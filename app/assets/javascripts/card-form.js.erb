var transactionsmenu_triggered = false;

$(document).on('turbolinks:load', ()=> {

  $('.card-form__close').on('click', (event) => {
    ToggleCardForm('#' + $(event.target).closest('.card-form').attr('id'));
  });

});

function ToggleCardForm (formId) {
  $('#overlay').fadeToggle(200);
  $(formId).slideToggle(100);
}

function ShowTransactionsMenu() {
  transactionsmenu_triggered = true;
  $.ajax({
    type: 'GET',
    dataType: 'text',
    url: '/api/render_transactionsmenu',
    success: function(data) {
      $('#content').prepend(data);
      //ToggleCardForm('#transactionmenu');

      
    }
  });
}

function ClearValues (formId) {
  /*if (formId == '#accountmenu') {
      $.ajax({
      type: "GET",
      dataType: "text",
      url: "/api/user_currency",
      success: function(data) {
        $(formId).find("select#account_currency").val(data);
      }
    });
  }*/

  var default_value;
  $(formId).find("input, textarea, select").each(function() {
    default_value = $(this).attr("default_value");
    if (typeof default_value !== typeof undefined) {
      console.log('default: ' + default_value);
      $(this).val(default_value);
    }
  });
}