function set_currency(account_name, currency_changed, $currency_field) {
  if(!currency_changed) {
    var currency;
    $.ajax({
      type: "GET",
      dataType: "json",
      url: "/api/accounts/" + account_name + '/details',
      success: function(data){
        currency = data.currency;
        $currency_field.val(currency);
      }
    });
  }
}

$(document).on('turbolinks:load', ()=> {

  var transactionmenu_set = false;

  $('#create-transaction-button').on('click', () => {
    console.log('create transaction button');
    ToggleCardForm('#transactionmenu');
    SetupTransactionForm();
  });
});

$(document).on('click', '.show-child-transactions', (event) => {
  $(event.currentTarget).nextAll('.child_transactions:first').slideToggle(100);

  if ($(event.currentTarget).find('img').hasClass('rotated')) {
    $(event.currentTarget).find('img').removeClass('rotated');
    $(event.currentTarget).find('img').addClass('rotated-back');
  } else {
    $(event.currentTarget).find('img').removeClass('rotated-back');
    $(event.currentTarget).find('img').addClass('rotated');
  }
});