<div class="modal fade" id="transactionform" tabindex="-1" role="dialog" aria-labelledby="transactionformLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="transactionformLabel">New Transaction</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <%= form_with(model: Transaction.new) do |f| %>
        <div class="modal-body">
          <div class="container">

            <div class="row">

              <div class="col-12 col-lg-6 col-xl-7">

                <div class="row">
                  <div class="col-12 py-5">

                    <div class="btn-group btn-group-toggle" data-toggle="buttons" id="button-group">
                      <label class="btn btn-secondary active py-3">
                        <%= f.radio_button :type, 'expense' %>Expense
                      </label>
                      <label class="btn btn-secondary py-3">
                        <%= f.radio_button :type, 'income' %>Income
                      </label>
                      <label class="btn btn-secondary py-3">
                        <%= f.radio_button :type, 'transfer' %>Transfer
                      </label>
                    </div>

                  </div>

                </div>

                <div class="row">

                  <div class="col-12">
                    <%= f.label :description %><br />
                    <%= f.text_field :description, class: 'transactionmenu__description form-control', 'default_value' => '' %>
                  </div>

                </div>

                <div class="row">

                  <div class="col-12">
                    <%= f.label :account %><br />
                    <%= f.select(:account, user_accounts_array, {}, { :class => 'form-control' }) %>
                  </div>

                </div>

                <div class="row">

                  <div class="col-12 col-lg-6">
                    <%= f.label :from_account %><br />
                    <%= f.select(:from_account, user_accounts_array, {}, { :class => 'form-control' }) %>
                  </div>

                  <div class="col-12 col-lg-6">
                    <%= f.label :to_account %><br />
                    <%= f.select(:to_account, user_accounts_array, {}, { :class => 'form-control' }) %>
                  </div>

                </div>

                <div class="row">

                  <div class="col-12">
                    <%= f.label :category %><br />
                    <%= render partial: "shared/custom_dropdown_categories", locals: {
                      selected: Category.get_user_categories(current_user, true, true)[0],
                      options: Category.get_user_categories(current_user, true, true),
                    } %>
                    
                    <% categories = Category.get_user_categories(current_user, true, true) %>
                    <%= f.text_field :category_id, value: 0 %>
                  </div>

                </div>

              </div>

              <div class="col-12 col-lg-6 col-xl-5">

                <div class="row">

                  <div class="col-12 py-5">

                    <div class="btn-group btn-group-toggle" data-toggle="buttons" id="button-group">
                      <label class="btn btn-secondary active py-3">
                        <%= f.radio_button :multiple, 'single' %>Single
                      </label>
                      <label class="btn btn-secondary py-3">
                        <%= f.radio_button :multiple, 'multiple' %>Multiple
                      </label>
                    </div>

                  </div>

                </div>

                <div class="row">

                  <div class="col-4">

                    <%= f.label :currency %><br />
                    <%= f.select(:currency, all_currencies(Money::Currency.table), {}, { :class => 'form-control' }) %>

                  </div>

                  <div class="col-4">

                    <%= f.label :rate %><br />
                    <input type="number" name="lname", class="form-control">

                  </div>

                  <div class="col-4">

                    <%= f.label :result %><br />
                    <input type="number" name="lname" class="form-control">

                  </div>

                </div>

                <div class="row">

                  <div class="col-12">

                    <%= f.label :amount %><br />
                    <%= f.number_field :amount, placeholder: "99.87", class: 'accountmenu__balance form-control', step: :any, 'default_value' => '' %>

                  </div>

                </div>

                <div class="row">

                  <div class="col-12">

                    <%= f.label :transactions %><br />
                    <%= f.text_area :transactions, placeholder: "Milk 2.39\nApples 1.87\nBrocolli 3.09", class: 'accountmenu__description form-control', 'default_value' => '' %>

                  </div>

                </div>

                <div class="row">

                  <div class="col-6">

                    <%= f.label :date %>
                    <%= f.text_field :date, class: 'datepicker form-control' %>

                  </div>

                  <div class="col-6">

                    <%= f.label :time %>
                    <%= f.text_field :time, type: 'time', value:'now', class: 'form-control' %>
                    <%= f.text_field :timezone, id: 'timezone_input' %>

                  </div>

                </div>

              </div>

            </div>

          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <%= f.submit 'Create Transaction', :class => 'btn btn-primary' %>
        </div>
      <% end %>
    </div>
  </div>
</div>