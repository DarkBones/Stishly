ClearValues('#transactionmenu');
ToggleCardForm('#transactionmenu');

<% @transactions.each do |t| %>
  console.log("<%= t.category.name %>");
<% end %>

var days = []
$('#transactions_list div').each(function(index){
  if (typeof $(this).attr('id') !== "undefined"){
    console.log( index + ": " + $( this ).attr('id') );
    days.push($(this).attr('id'));
  }
});
var earliestDay = DayStrToNum(days[0]);
var lastDay = DayStrToNum(days[days.length-1]);

var t_date = "<%= @transactions[0].local_datetime.to_s.split[0] %>";
var t_time = "<%= @transactions[0].local_datetime.to_s.split[1] %>";

//$('#transactions_2019-02-12').prepend("<%= j render :partial => 'accounts/transaction', :locals => { :t => @transactions[0], :active_account => @active_account } %>")

<% @transactions.each do |t| %>

  console.log(t_date);
  console.log(t_time);

  var $dayUl = $('#' + t_date + " ul");

  if ( $dayUl.length ){
    $dayUl.prepend("<li><%= t.local_datetime %></li>")
  } else {
    if ( DayStrToNum(t_date) > earliestDay ){
      <% puts @transactions[0].local_datetime.to_s.split[0] %>
      $("#transactions_list").prepend("<%= escape_javascript("#{render :partial => 'accounts/transactions_date', :locals => { :d => "2019-02-14", :d_formatted => "Today", :day_total => 555, :account_currency => 'CAD' }}").html_safe %>");
      //$('#transactions_list').prepend("<div id=\"" + t_date + "\"><h3 id=\"day_" + t_date + "\">" + "WWW" + "</h3><ul id=\"transactions_2019-02-13\" class=\"parent_transactions\"></ul></div>");
    } else if ( DayStrToNum(t_date) < lastDay ){
      for (var i = 0; i < days.length; i++) {

      }
    }
  }
<% end %>

function DayStrToNum(str) {
  var num = str.replace(/-/g, "")
  return parseInt(num)
}