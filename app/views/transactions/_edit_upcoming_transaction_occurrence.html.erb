<%# transaction = Transaction.new.decorate %>
<%
	base_only = !transaction.schedule.nil?
%>
<%= form_with(model: transaction, :url => edit_upcoming_transaction_occurrence_path) do |f| %>
  <div class="modal-body">
    <div class="container">

        <%= render partial: "transactions/transaction_form_fields", :locals => {:transaction => transaction, :f => f, :base_only => base_only, :form_id_prefix => "", :form_id_suffix => "_edit_occurrence", :schedule_id => schedule_id, :schedule_period_id => schedule_period_id, :scheduled_transaction_id => scheduled_transaction_id } %>

    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-dismiss="modal"><%= t('views.buttons.modals.close.text') %></button>
    <%= f.button t('views.transactions.edit_upcoming.update.text'), :class => 'btn btn-primary', data: {disable_with: image_tag("ajax_spinner_white.svg", height: "20") + " #{t('views.transactions.edit_upcoming.update.action')} ..."} %>
  </div>
<% end %>